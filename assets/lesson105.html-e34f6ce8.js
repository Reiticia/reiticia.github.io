import{_ as n,o as s,c as a,a as t}from"./app-d6f5df65.js";const p={},e=t(`<h1 id="treeview自定义cell拖拽" tabindex="-1"><a class="header-anchor" href="#treeview自定义cell拖拽" aria-hidden="true">#</a> TreeView自定义Cell拖拽</h1><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>treeView<span class="token punctuation">.</span><span class="token function">setCellFactory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Callback</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">TreeView</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">,</span> <span class="token class-name">TreeCell</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token doc-comment comment">/**  
     * 保存上次拖拽经过的cell  
     */</span>  
    <span class="token class-name">TreeCell</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> temp <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  
    <span class="token doc-comment comment">/**  
     * 保存被拖拽的节点  
     */</span>  
    <span class="token class-name">TreeItem</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> originItem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>  
    <span class="token doc-comment comment">/**  
     * 自定义cell  
     * <span class="token keyword">@param</span> <span class="token parameter">param</span> 节点  
     * <span class="token keyword">@return</span> 自定义的cell  
     */</span>
    <span class="token annotation punctuation">@Override</span>  
    <span class="token keyword">public</span> <span class="token class-name">TreeCell</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token class-name">TreeView</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> param<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token class-name">TreeCell</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> treeCell <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeCell</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
            <span class="token doc-comment comment">/**  
             * 自定义cell  
             */</span>
            <span class="token annotation punctuation">@Override</span>  
            <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">updateItem</span><span class="token punctuation">(</span><span class="token class-name">String</span> item<span class="token punctuation">,</span> <span class="token keyword">boolean</span> empty<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">updateItem</span><span class="token punctuation">(</span>item<span class="token punctuation">,</span> empty<span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token keyword">if</span> <span class="token punctuation">(</span>empty <span class="token operator">||</span> item<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setGraphic</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                    <span class="token keyword">return</span><span class="token punctuation">;</span>  
                <span class="token punctuation">}</span>  
                <span class="token comment">// 展开时的图片  </span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getTreeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isExpanded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                    <span class="token class-name">ImageView</span> imageView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageView</span><span class="token punctuation">(</span><span class="token string">&quot;/images/add.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                    imageView<span class="token punctuation">.</span><span class="token function">setPreserveRatio</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                    imageView<span class="token punctuation">.</span><span class="token function">setFitWidth</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setDisclosureNode</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>  
                    <span class="token comment">// 收起时的图片  </span>
                    <span class="token class-name">ImageView</span> imageView <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ImageView</span><span class="token punctuation">(</span><span class="token string">&quot;/images/sub.png&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                    imageView<span class="token punctuation">.</span><span class="token function">setPreserveRatio</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                    imageView<span class="token punctuation">.</span><span class="token function">setFitWidth</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setDisclosureNode</span><span class="token punctuation">(</span>imageView<span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token punctuation">}</span>  
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setUserData</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token class-name">Label</span> label <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Label</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getUserData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setGraphic</span><span class="token punctuation">(</span>label<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span><span class="token punctuation">;</span>  
        <span class="token comment">// 拖拽开始  </span>
        treeCell<span class="token punctuation">.</span><span class="token function">setOnDragDetected</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
            <span class="token comment">// 设置拖拽模式  </span>
            <span class="token class-name">Dragboard</span> dragboard <span class="token operator">=</span> treeCell<span class="token punctuation">.</span><span class="token function">startDragAndDrop</span><span class="token punctuation">(</span><span class="token class-name">TransferMode</span><span class="token punctuation">.</span><span class="token constant">COPY_OR_MOVE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token comment">// 拖拽剪贴板  </span>
            <span class="token class-name">ClipboardContent</span> content <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClipboardContent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            content<span class="token punctuation">.</span><span class="token function">putString</span><span class="token punctuation">(</span>treeCell<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token comment">// 设置拖拽图片时的效果  </span>
            <span class="token class-name">Text</span> text <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Text</span><span class="token punctuation">(</span>treeCell<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            text<span class="token punctuation">.</span><span class="token function">setFont</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Font</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token class-name">WritableImage</span> writableImage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WritableImage</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> treeCell<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            text<span class="token punctuation">.</span><span class="token function">snapshot</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SnapshotParameters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> writableImage<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            dragboard<span class="token punctuation">.</span><span class="token function">setDragView</span><span class="token punctuation">(</span>writableImage<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token comment">// 设置拖拽内容  </span>
            dragboard<span class="token punctuation">.</span><span class="token function">setContent</span><span class="token punctuation">(</span>content<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            originItem <span class="token operator">=</span> treeCell<span class="token punctuation">.</span><span class="token function">getTreeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token comment">// 拖拽经过  </span>
        treeCell<span class="token punctuation">.</span><span class="token function">setOnDragOver</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
            event<span class="token punctuation">.</span><span class="token function">acceptTransferModes</span><span class="token punctuation">(</span><span class="token class-name">TransferMode</span><span class="token punctuation">.</span><span class="token constant">MOVE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token class-name">Optional</span><span class="token punctuation">.</span><span class="token function">ofNullable</span><span class="token punctuation">(</span>temp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ifPresent</span><span class="token punctuation">(</span>tmp <span class="token operator">-&gt;</span> tmp<span class="token punctuation">.</span><span class="token function">setBorder</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            temp <span class="token operator">=</span> treeCell<span class="token punctuation">;</span>  
            <span class="token comment">// 鼠标移动距离接近treeCell底部  </span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> treeCell<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">10</span> <span class="token operator">&amp;&amp;</span> event<span class="token punctuation">.</span><span class="token function">getY</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> treeCell<span class="token punctuation">.</span><span class="token function">getHeight</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                <span class="token class-name">BorderStroke</span> stroke <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">BorderStroke</span><span class="token punctuation">(</span>  
                    <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token constant">GREEN</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span>  
                    <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token class-name">BorderStrokeStyle</span><span class="token punctuation">.</span><span class="token constant">SOLID</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span>  
                    <span class="token keyword">new</span> <span class="token class-name">CornerRadii</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">BorderWidths</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Insets</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token class-name">Border</span> border <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Border</span><span class="token punctuation">(</span>stroke<span class="token punctuation">)</span><span class="token punctuation">;</span>  
                treeCell<span class="token punctuation">.</span><span class="token function">setBorder</span><span class="token punctuation">(</span>border<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token comment">// 拖拽结束  </span>
        treeCell<span class="token punctuation">.</span><span class="token function">setOnDragDropped</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
            <span class="token class-name">Dragboard</span> dragboard <span class="token operator">=</span> event<span class="token punctuation">.</span><span class="token function">getDragboard</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token class-name">String</span> value <span class="token operator">=</span> dragboard<span class="token punctuation">.</span><span class="token function">getString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token comment">// 是否是叶子节点  </span>
            treeCell<span class="token punctuation">.</span><span class="token function">getTreeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isLeaf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token comment">// 是否折叠  </span>
            treeCell<span class="token punctuation">.</span><span class="token function">getTreeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">isExpanded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token comment">// 如果节点的父节点不为空，并且该节点的级别与拖拽的节点级别相同时，才能成功完成拖拽动作  </span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>treeCell<span class="token punctuation">.</span><span class="token function">getTreeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> treeView<span class="token punctuation">.</span><span class="token function">getTreeItemLevel</span><span class="token punctuation">(</span>treeCell<span class="token punctuation">.</span><span class="token function">getTreeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> treeView<span class="token punctuation">.</span><span class="token function">getTreeItemLevel</span><span class="token punctuation">(</span>originItem<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
                <span class="token comment">// 将原来的treeCell移除  </span>
                originItem<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>originItem<span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token comment">// 获取其在父节点中的索引  </span>
                <span class="token keyword">int</span> index <span class="token operator">=</span> treeCell<span class="token punctuation">.</span><span class="token function">getTreeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>treeCell<span class="token punctuation">.</span><span class="token function">getTreeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token comment">// 在其父节点上指定位置创建节点，节点内容为剪贴板中的值  </span>
                <span class="token class-name">TreeItem</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> treeItem <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TreeItem</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>  
                treeCell<span class="token punctuation">.</span><span class="token function">getTreeItem</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>index <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> treeItem<span class="token punctuation">)</span><span class="token punctuation">;</span>  
                <span class="token comment">// 设置其对于的子节点  </span>
                <span class="token function">setChildren</span><span class="token punctuation">(</span>originItem<span class="token punctuation">,</span> treeItem<span class="token punctuation">)</span><span class="token punctuation">;</span>  
            <span class="token punctuation">}</span>  
            <span class="token comment">// 取消边框样式  </span>
            treeCell<span class="token punctuation">.</span><span class="token function">setBorder</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">return</span> treeCell<span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    <span class="token doc-comment comment">/**  
     * 设置子节点  
     *  
     * <span class="token keyword">@param</span> <span class="token parameter">originItem</span> 原节点  
     * <span class="token keyword">@param</span> <span class="token parameter">treeItem</span>   新节点  
     */</span>  
    <span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">setChildren</span><span class="token punctuation">(</span><span class="token class-name">TreeItem</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> originItem<span class="token punctuation">,</span> <span class="token class-name">TreeItem</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> treeItem<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        <span class="token comment">// 设置原有的状态（是否展开）  </span>
        <span class="token keyword">boolean</span> expanded <span class="token operator">=</span> originItem<span class="token punctuation">.</span><span class="token function">isExpanded</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
        treeItem<span class="token punctuation">.</span><span class="token function">setExpanded</span><span class="token punctuation">(</span>expanded<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token comment">// 获取原节点的子节点  </span>
        originItem<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>item <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
            <span class="token comment">// 将该节点添加到节点中  </span>
            treeItem<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>按钮点击事件用于展开或收起所有节点</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>button<span class="token punctuation">.</span><span class="token function">setOnAction</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
    <span class="token function">expandedAllItem</span><span class="token punctuation">(</span>china<span class="token punctuation">,</span> isExpanded<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    isExpanded <span class="token operator">=</span> <span class="token operator">!</span>isExpanded<span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**  
 * 展开所有节点  
 *  
 * <span class="token keyword">@param</span> <span class="token parameter">item</span>       当前节点  
 * <span class="token keyword">@param</span> <span class="token parameter">isExpanded</span> 是否展开  
 */</span>  
<span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">expandedAllItem</span><span class="token punctuation">(</span><span class="token class-name">TreeItem</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> item<span class="token punctuation">,</span> <span class="token keyword">boolean</span> isExpanded<span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    item<span class="token punctuation">.</span><span class="token function">setExpanded</span><span class="token punctuation">(</span>isExpanded<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    item<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>stringTreeItem <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
        <span class="token function">expandedAllItem</span><span class="token punctuation">(</span>stringTreeItem<span class="token punctuation">,</span> isExpanded<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),c=[e];function o(l,u){return s(),a("div",null,c)}const k=n(p,[["render",o],["__file","lesson105.html.vue"]]);export{k as default};
