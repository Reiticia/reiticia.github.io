import{_ as n,o as s,c as a,a as t}from"./app-d6f5df65.js";const p="/assets/VeryCapture_20220620125002-6446ccaa.gif",o="/assets/VeryCapture_20220620130034-fa6f8739.gif",e={},c=t(`<h1 id="animation-跑马灯效果" tabindex="-1"><a class="header-anchor" href="#animation-跑马灯效果" aria-hidden="true">#</a> Animation 跑马灯效果</h1><ol><li><p>界面布局</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">StackPane</span> sp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StackPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
sp<span class="token punctuation">.</span><span class="token function">setPrefSize</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">,</span> <span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
sp<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span><span class="token string">&quot;-fx-border-color: #996699; -fx-border-style: solid; -fx-border-width: 3;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

 <span class="token class-name">HBox</span> hBox <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
 hBox<span class="token punctuation">.</span><span class="token function">setAlignment</span><span class="token punctuation">(</span><span class="token class-name">Pos</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
 <span class="token class-name">String</span> background <span class="token operator">=</span> <span class="token string">&quot;-fx-background-color: linear-gradient(from 0.0% 0.0% to 100.0% 0.0%, #bb96e1ff 0.0%, #5c56bbff 100.0%);&quot;</span><span class="token punctuation">;</span>  
 <span class="token class-name">String</span> border <span class="token operator">=</span> <span class="token string">&quot;-fx-border-color: #ffffcc; -fx-border-width: 3; -fx-border-style: solid;&quot;</span><span class="token punctuation">;</span>  
 hBox<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>background <span class="token operator">+</span> border<span class="token punctuation">)</span><span class="token punctuation">;</span>  
 sp<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>hBox<span class="token punctuation">)</span><span class="token punctuation">;</span>  

 <span class="token class-name">HBox</span> hBox1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
 hBox1<span class="token punctuation">.</span><span class="token function">setAlignment</span><span class="token punctuation">(</span><span class="token class-name">Pos</span><span class="token punctuation">.</span><span class="token constant">CENTER</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
 <span class="token class-name">String</span> background1 <span class="token operator">=</span> <span class="token string">&quot;-fx-background-color: linear-gradient(from 0.0% 0.0% to 100.0% 0.0%, #23d0f3ff 0.0%, #d791f9ff 50.0%, #fe7b84ff 100.0%);&quot;</span><span class="token punctuation">;</span>  
 <span class="token class-name">String</span> border1 <span class="token operator">=</span> <span class="token string">&quot;-fx-border-color: #ccffff; -fx-border-width: 3; -fx-border-style: solid;&quot;</span><span class="token punctuation">;</span>  
 hBox1<span class="token punctuation">.</span><span class="token function">setStyle</span><span class="token punctuation">(</span>background1 <span class="token operator">+</span> border1<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>创建置换效果</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 置换效果  </span>
<span class="token class-name">DisplacementMap</span> displacementMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DisplacementMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
displacementMap<span class="token punctuation">.</span><span class="token function">setWrap</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
hBox1<span class="token punctuation">.</span><span class="token function">setEffect</span><span class="token punctuation">(</span>displacementMap<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>模拟位移</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 模拟位移组件  </span>
<span class="token class-name">Button</span> simulation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;simulation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// 位移动画  </span>
<span class="token class-name">TranslateTransition</span> tt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TranslateTransition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
tt<span class="token punctuation">.</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">seconds</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
tt<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span>simulation<span class="token punctuation">)</span><span class="token punctuation">;</span>  
tt<span class="token punctuation">.</span><span class="token function">setFromX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
tt<span class="token punctuation">.</span><span class="token function">setToX</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// tt.setByX(400);  </span>
tt<span class="token punctuation">.</span><span class="token function">setCycleCount</span><span class="token punctuation">(</span><span class="token class-name">Animation</span><span class="token punctuation">.</span><span class="token constant">INDEFINITE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 循环播放  </span>
tt<span class="token punctuation">.</span><span class="token function">setInterpolator</span><span class="token punctuation">(</span><span class="token class-name">Interpolator</span><span class="token punctuation">.</span><span class="token constant">LINEAR</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 动画插值器，匀速  </span>
<span class="token comment">// 播放完成  </span>
tt<span class="token punctuation">.</span><span class="token function">setOnFinished</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
    <span class="token comment">// sp.getChildren().remove(hBox1);// 移除此组件  </span>
    <span class="token comment">// hBox1.setVisible(false);// 设置该组件不可见  </span>
    <span class="token comment">// hBox1.toBack();// 设置该组件位于最底层  </span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>监听模拟位移组件的x轴方向位移量的变化</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 方式1：监听器</span>
simulation<span class="token punctuation">.</span><span class="token function">translateXProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span>observable<span class="token punctuation">,</span> oldValue<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
    <span class="token keyword">double</span> x <span class="token operator">=</span> newValue<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    displacementMap<span class="token punctuation">.</span><span class="token function">setOffsetX</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">(</span>x <span class="token operator">/</span> sp<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 方式2：绑定</span>
<span class="token class-name">DoubleProperty</span> tx <span class="token operator">=</span> simulation<span class="token punctuation">.</span><span class="token function">translateXProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token class-name">DoubleBinding</span> res <span class="token operator">=</span> tx<span class="token punctuation">.</span><span class="token function">divide</span><span class="token punctuation">(</span>sp<span class="token punctuation">.</span><span class="token function">widthProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">multiply</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
displacementMap<span class="token punctuation">.</span><span class="token function">offsetXProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+p+`" alt=""></p></li></ol><h2 id="实例-切换界面显示" tabindex="-1"><a class="header-anchor" href="#实例-切换界面显示" aria-hidden="true">#</a> 实例（切换界面显示）</h2><ol><li><p>创建2个置换效果分别设置于hBox和hBox1</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 置换效果  </span>
<span class="token class-name">DisplacementMap</span> displacementMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DisplacementMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
hBox1<span class="token punctuation">.</span><span class="token function">setEffect</span><span class="token punctuation">(</span>displacementMap<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token class-name">DisplacementMap</span> displacementMap1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DisplacementMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
hBox<span class="token punctuation">.</span><span class="token function">setEffect</span><span class="token punctuation">(</span>displacementMap1<span class="token punctuation">)</span><span class="token punctuation">;</span>  
hBox<span class="token punctuation">.</span><span class="token function">toBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 置底</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>模拟位移</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 模拟位移组件  </span>
<span class="token class-name">Button</span> simulation <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Button</span><span class="token punctuation">(</span><span class="token string">&quot;simulation&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// 位移动画  </span>
<span class="token class-name">TranslateTransition</span> tt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TranslateTransition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
tt<span class="token punctuation">.</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">seconds</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
tt<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span>simulation<span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// 播放完成  </span>
tt<span class="token punctuation">.</span><span class="token function">setOnFinished</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
    <span class="token comment">// 如果hBox1没有进行移动，则将hBox1置顶  </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>displacementMap<span class="token punctuation">.</span><span class="token function">getOffsetX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token operator">-</span><span class="token number">0.01</span> <span class="token operator">&amp;&amp;</span> displacementMap<span class="token punctuation">.</span><span class="token function">getOffsetX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0.01</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        hBox1<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
    <span class="token comment">// 如果hBox显示与窗口中，则将hBox置顶  </span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>displacementMap1<span class="token punctuation">.</span><span class="token function">getOffsetX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token operator">-</span><span class="token number">0.01</span> <span class="token operator">&amp;&amp;</span> displacementMap1<span class="token punctuation">.</span><span class="token function">getOffsetX</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span> <span class="token number">0.01</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
        hBox<span class="token punctuation">.</span><span class="token function">toFront</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token punctuation">}</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>监听（同理可使用绑定进行操作）</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>simulation<span class="token punctuation">.</span><span class="token function">translateXProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addListener</span><span class="token punctuation">(</span><span class="token punctuation">(</span>observable<span class="token punctuation">,</span> oldValue<span class="token punctuation">,</span> newValue<span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
    <span class="token keyword">double</span> x <span class="token operator">=</span> newValue<span class="token punctuation">.</span><span class="token function">doubleValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    displacementMap<span class="token punctuation">.</span><span class="token function">setOffsetX</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token punctuation">(</span>x <span class="token operator">/</span> sp<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    displacementMap1<span class="token punctuation">.</span><span class="token function">setOffsetX</span><span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> <span class="token punctuation">(</span>x <span class="token operator">/</span> sp<span class="token punctuation">.</span><span class="token function">getWidth</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>按钮点击事件</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>button1<span class="token punctuation">.</span><span class="token function">setOnAction</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;button1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    tt<span class="token punctuation">.</span><span class="token function">setFromX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    tt<span class="token punctuation">.</span><span class="token function">setToX</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    tt<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
button2<span class="token punctuation">.</span><span class="token function">setOnAction</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;button2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    tt<span class="token punctuation">.</span><span class="token function">setFromX</span><span class="token punctuation">(</span><span class="token number">400</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    tt<span class="token punctuation">.</span><span class="token function">setToX</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    tt<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+o+'" alt=""></p></li></ol>',4),l=[c];function u(i,k){return s(),a("div",null,l)}const d=n(e,[["render",u],["__file","lesson195.html.vue"]]);export{d as default};
