import{_ as n,o as s,c as a,a as t}from"./app-d6f5df65.js";const p="/assets/VeryCapture_20220620081443-03788b86.gif",e={},o=t(`<h1 id="animation-pathtransition路径动画" tabindex="-1"><a class="header-anchor" href="#animation-pathtransition路径动画" aria-hidden="true">#</a> Animation PathTransition路径动画</h1><ol><li><p>描绘路径</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**  
* 获取路径（相对路径）  
*  
* <span class="token keyword">@return</span>  
*/</span>  
<span class="token keyword">private</span> <span class="token class-name">Path</span> <span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
    <span class="token class-name">Path</span> path <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// 起点  </span>
    <span class="token class-name">MoveTo</span> moveTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MoveTo</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// 沿直线移动到(100,0)  </span>
    <span class="token class-name">LineTo</span> lineTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">// 二次曲线  </span>
    <span class="token class-name">QuadCurveTo</span> quadCurveTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">QuadCurveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    quadCurveTo<span class="token punctuation">.</span><span class="token function">setAbsolute</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置为相对路径，则以(100,0)为起点  </span>
    <span class="token comment">// 水平线  </span>
    <span class="token class-name">HLineTo</span> hLineTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HLineTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    hLineTo<span class="token punctuation">.</span><span class="token function">setAbsolute</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置为相对路径，则以(100,100)为起点  </span>
    <span class="token comment">// 三次曲线  </span>
    <span class="token class-name">CubicCurveTo</span> cubicCurveTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CubicCurveTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token number">150</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    cubicCurveTo<span class="token punctuation">.</span><span class="token function">setAbsolute</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置为相对路径，则以(300,100)为起点  </span>
    <span class="token comment">// 垂直线  </span>
    <span class="token class-name">VLineTo</span> vLineTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VLineTo</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    vLineTo<span class="token punctuation">.</span><span class="token function">setAbsolute</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置为相对路径，则以(500,100)为起点  </span>
    <span class="token comment">// 弧线  </span>
    <span class="token class-name">ArcTo</span> arcTo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArcTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    arcTo<span class="token punctuation">.</span><span class="token function">setAbsolute</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置为相对路径，则以(500,0)为起点  </span>
    <span class="token comment">// 闭合  </span>
    <span class="token class-name">ClosePath</span> closePath <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ClosePath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    path<span class="token punctuation">.</span><span class="token function">setStroke</span><span class="token punctuation">(</span><span class="token class-name">Color</span><span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token string">&quot;#996699&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置边框颜色  </span>
    path<span class="token punctuation">.</span><span class="token function">setStrokeWidth</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置边框宽度  </span>
    path<span class="token punctuation">.</span><span class="token function">setStrokeLineJoin</span><span class="token punctuation">(</span><span class="token class-name">StrokeLineJoin</span><span class="token punctuation">.</span><span class="token constant">BEVEL</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置边框连接点为圆角  </span>
    path<span class="token punctuation">.</span><span class="token function">setStrokeLineCap</span><span class="token punctuation">(</span><span class="token class-name">StrokeLineCap</span><span class="token punctuation">.</span><span class="token constant">ROUND</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置边框连接点为圆角  </span>
    path<span class="token punctuation">.</span><span class="token function">getElements</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addAll</span><span class="token punctuation">(</span>moveTo<span class="token punctuation">,</span> lineTo<span class="token punctuation">,</span> quadCurveTo<span class="token punctuation">,</span> hLineTo<span class="token punctuation">,</span> cubicCurveTo<span class="token punctuation">,</span> vLineTo<span class="token punctuation">,</span> arcTo<span class="token punctuation">,</span> closePath<span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token keyword">return</span> path<span class="token punctuation">;</span>  
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>获取路径，将路径添加到布局中，便于观察</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">Path</span> path <span class="token operator">=</span> <span class="token function">getPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token comment">// 这里必须使用布局类将路径进行包裹，否则节点运动时不会按照指定路径运动</span>
<span class="token class-name">StackPane</span> stackPane <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">StackPane</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
stackPane<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span>
root<span class="token punctuation">.</span><span class="token function">getChildren</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>stackPane<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>调整起始中心点与路径对齐</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>rectangle<span class="token punctuation">.</span><span class="token function">setTranslateX</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
rectangle<span class="token punctuation">.</span><span class="token function">setTranslateY</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>创建路径动画</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">PathTransition</span> pt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PathTransition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
pt<span class="token punctuation">.</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token class-name">Duration</span><span class="token punctuation">.</span><span class="token function">seconds</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置动画持续时间  </span>
pt<span class="token punctuation">.</span><span class="token function">setNode</span><span class="token punctuation">(</span>rectangle<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置动画节点  </span>
pt<span class="token punctuation">.</span><span class="token function">setPath</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置动画路径  </span>
pt<span class="token punctuation">.</span><span class="token function">setOrientation</span><span class="token punctuation">(</span><span class="token class-name">PathTransition<span class="token punctuation">.</span>OrientationType</span><span class="token punctuation">.</span><span class="token constant">ORTHOGONAL_TO_TANGENT</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置动画方向，图形方向与路径方向一致  </span>
pt<span class="token punctuation">.</span><span class="token function">setAutoReverse</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置动画循环播放  </span>
pt<span class="token punctuation">.</span><span class="token function">setCycleCount</span><span class="token punctuation">(</span><span class="token class-name">PathTransition</span><span class="token punctuation">.</span><span class="token constant">INDEFINITE</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">// 设置动画循环播放次数</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>播放动画</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>play<span class="token punctuation">.</span><span class="token function">setOnAction</span><span class="token punctuation">(</span>event <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>  
    pt<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><p><img src="`+p+'" alt=""></p>',3),c=[o];function l(u,i){return s(),a("div",null,c)}const r=n(e,[["render",l],["__file","lesson192.html.vue"]]);export{r as default};
